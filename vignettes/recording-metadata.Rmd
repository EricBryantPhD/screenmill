---
title: "Recording Metadata"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{Recording Metadata}
  \usepackage[utf8]{inputenc}
---

First create **screens.csv** and **plates.csv** metadata tables by executing the following command. The colony measurement log file is used to generate all combinations of scan names, scan conditions, and plate numbers. If necessary, also create a custom strain collection keyfile.

```{r eval = FALSE}
# Write `plates.csv` and `screens.csv` to the same directory as `cm.txt`
screenmill::new_batch_metadata('path/to/cm.txt')
# If necessary, create a new strain collection keyfile
# screenmill::new_strain_collection(id = 'collection_id', nplates = 2, density = 96)
```

In **plates.csv** fill out necessary values for each column:

- **scan_name**: Do not edit.
- **scan_condition**: Do not edit.
- **plate**: Do not edit.
- **incubation_start**: When incubation began in YYYY-MM-DD HH:MM:SS TZ format.
  (i.e. the result of `Sys.time()`: `r Sys.time()`).
- **incubation_end**: When the plate was scanned in YYYY-MM-DD HH:MM:SS TZ format.

In **screens.csv** fill out necessary values for each column:

- **screen_id**: Give all screens in a time series the same `screen_id`. The 
  format YYYY-MM-DD-condition-query works well as a standard ID string. 
- **scan_name**: Do not edit.
- **scan_condition**: Do not edit.
- **screen_name**: A short descriptive name of the screen.
- **screen_description**: A long description of the screen.
- **analysis_id**: This should match an ID in the `analyses` table.
- **strain_collection_id**: This should match an ID in the `strain_collections` 
  table of the rothscreen database or the ID used in your custom keyfile.
- **query_type**: Either `plasmid`, `drug`, or `strain`.
- **query_id**: A `plasmid_id`, `drug_id`, or `strain_id`.
- **query_name**: A short query name (e.g. GAL1p-CTF4)
- **control_screen_id**: The `screen_id` of the corresponding control query.
- **method_id**: An expermimental method ID (e.g. SPA, SGA)
- **media_id**: A growth media ID.
- **timepoint**: An integer specifying the timepoint (0 for a scan before 
  incubation).
- **temperature**: Incubation temperature in Celcius.
- **screen_owner**: Name - email
- **screen_notes**: miscellaneous notes about this screen.


